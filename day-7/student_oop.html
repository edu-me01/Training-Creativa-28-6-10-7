<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Ù„ÙˆØ­Ø© Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ - OOP</title>
  <style>
    body { font-family: Arial; background: #f0f0f0; padding: 20px; direction: rtl; }
    .box { background: #fff; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 0 10px #ccc; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background: #444; color: white; }
    input, button, select { padding: 8px; margin: 5px 0; }
  </style>
</head>
<body>
  <div class="box">
    <h2>ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ¯Ø±Ø¬Ø§ØªÙ‡Ù… (OOP + Inheritance)</h2>

    <!-- Ø¬Ø¯ÙˆÙ„ Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØ¯Ø±Ø¬Ø§ØªÙ‡Ù… -->
    <table id="studentsTable">
      <thead>
        <tr>
          <th>Ø§Ù„Ø§Ø³Ù…</th>
          <th>Ø±ÙŠØ§Ø¶ÙŠØ§Øª</th>
          <th>Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</th>
          <th>ÙÙŠØ²ÙŠØ§Ø¡</th>
          <th>ÙƒÙŠÙ…ÙŠØ§Ø¡</th>
          <th>Ø£Ø­ÙŠØ§Ø¡</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <!-- Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø·Ø§Ù„Ø¨ Ù„Ø¹Ø±Ø¶ Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø±Ø¬Ø§ØªÙ‡ -->
    <h3>ğŸ” Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø±Ø¬Ø§Øª Ø·Ø§Ù„Ø¨ Ù…Ø¹ÙŠÙ†</h3>
    <input id="studentNameInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨" />
    <button onclick="getStudentTotal()">Ø§Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</button>
    <p id="studentTotal"></p>

    <!-- Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù…Ø§Ø¯Ø© Ù„Ø¹Ø±Ø¶ Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø±Ø¬Ø§ØªÙ‡Ø§ -->
    <h3>ğŸ“š Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø±Ø¬Ø§Øª Ù…Ø§Ø¯Ø©</h3>
    <select id="subjectSelect">
      <option>Math</option>
      <option>English</option>
      <option>Physics</option>
      <option>Chemistry</option>
      <option>Biology</option>
    </select>
    <button onclick="getSubjectTotal()">Ø§Ø¹Ø±Ø¶ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¯Ø©</button>
    <p id="subjectTotal"></p>
  </div>

  <script>
    // âœ… ÙƒÙ„Ø§Ø³ Ø§Ù„Ø£Ø³Ø§Ø³: ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¯Ø±Ø¬Ø§Øª
    class StudentBase {
      constructor(name, grades) {
        this.name = name;
        this.grades = grades; // {Math: 90, English: 85, ...}
      }

      // âœ… Ø¯Ø§Ù„Ø© Ù„Ø­Ø³Ø§Ø¨ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
      getTotalScore() {
        return Object.values(this.grades).reduce((sum, grade) => sum + grade, 0);
      }

      // âœ… Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¯Ø±Ø¬Ø© Ù…Ø§Ø¯Ø© Ù…Ø¹ÙŠÙ†Ø©
      getSubjectScore(subject) {
        return this.grades[subject] || 0;
      }
    }

    // âœ… ÙƒÙ„Ø§Ø³ ÙŠØ±Ø« Ù…Ù† StudentBase - Ù…Ù…ÙƒÙ† Ù†Ø¶ÙŠÙ Ù„Ù‡ Ø¯ÙˆØ§Ù„ Ù„Ø§Ø­Ù‚Ù‹Ø§
    class Student extends StudentBase {
      constructor(name, grades) {
        super(name, grades);
      }

      // Ø¯Ø§Ù„Ø© ØªØ¹Ø±Ø¶ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¬Ù…ÙŠÙ„ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
      getGradesString() {
        return Object.entries(this.grades).map(([sub, score]) => `${sub}: ${score}`).join(", ");
      }
    }

    // âœ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø§Ø¨
    const students = [
      new Student("Ahmed",    { Math: 90, English: 85, Physics: 78, Chemistry: 80, Biology: 75 }),
      new Student("Sara",     { Math: 95, English: 88, Physics: 91, Chemistry: 89, Biology: 93 }),
      new Student("Ali",      { Math: 65, English: 70, Physics: 75, Chemistry: 68, Biology: 72 }),
      new Student("Nada",     { Math: 88, English: 90, Physics: 84, Chemistry: 85, Biology: 87 }),
      new Student("Mohamed",  { Math: 72, English: 68, Physics: 80, Chemistry: 76, Biology: 74 }),
      new Student("Yasmine",  { Math: 91, English: 87, Physics: 89, Chemistry: 90, Biology: 92 }),
      new Student("Omar",     { Math: 79, English: 83, Physics: 77, Chemistry: 81, Biology: 80 }),
      new Student("Fatma",    { Math: 85, English: 80, Physics: 86, Chemistry: 88, Biology: 90 }),
      new Student("Hassan",   { Math: 67, English: 75, Physics: 70, Chemistry: 72, Biology: 69 }),
      new Student("Laila",    { Math: 93, English: 92, Physics: 89, Chemistry: 95, Biology: 94 })
    ];

    // âœ… Ø¹Ø±Ø¶ Ø¬Ø¯ÙˆÙ„ ÙƒÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨
    function renderTable() {
      const tbody = document.querySelector("#studentsTable tbody");
      tbody.innerHTML = ""; // ØªÙØ±ÙŠØº Ø§Ù„Ø¬Ø¯ÙˆÙ„

      students.forEach(student => {
        tbody.innerHTML += `
          <tr>
            <td>${student.name}</td>
            <td>${student.getSubjectScore("Math")}</td>
            <td>${student.getSubjectScore("English")}</td>
            <td>${student.getSubjectScore("Physics")}</td>
            <td>${student.getSubjectScore("Chemistry")}</td>
            <td>${student.getSubjectScore("Biology")}</td>
          </tr>
        `;
      });
    }

    // âœ… Ø¯Ø§Ù„Ø© ØªØ¹Ø±Ø¶ Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø±Ø¬Ø§Øª Ø·Ø§Ù„Ø¨ Ù…Ø¹ÙŠÙ†
    function getStudentTotal() {
      const name = document.getElementById("studentNameInput").value.trim();
      const student = students.find(s => s.name.toLowerCase() === name.toLowerCase());

      if (!student) {
        document.getElementById("studentTotal").textContent = "ğŸš« Ø§Ù„Ø·Ø§Ù„Ø¨ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯";
        return;
      }

      const total = student.getTotalScore();
      document.getElementById("studentTotal").textContent = `ğŸ”¢ Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø±Ø¬Ø§Øª ${student.name}: ${total}`;
    }

    // âœ… Ø¯Ø§Ù„Ø© Ù„Ø­Ø³Ø§Ø¨ Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø±Ø¬Ø§Øª Ù…Ø§Ø¯Ø© Ù…Ø¹ÙŠÙ†Ø©
    function getSubjectTotal() {
      const subject = document.getElementById("subjectSelect").value;
      const total = students
        .map(student => student.getSubjectScore(subject))
        .reduce((sum, grade) => sum + grade, 0);

      document.getElementById("subjectTotal").textContent = `ğŸ“š Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø±Ø¬Ø§Øª ${subject}: ${total}`;
    }

    // âœ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    window.onload = () => {
      renderTable();
    };
  </script>
</body>
</html>
